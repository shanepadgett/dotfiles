# --- Completion system ----
autoload -Uz compinit
compinit -C

COLORTERM=truecolor

BREW_PREFIX=$(brew --prefix 2>/dev/null)
[[ -n "$BREW_PREFIX" ]] && source "$BREW_PREFIX/share/zsh-autosuggestions/zsh-autosuggestions.zsh"

# Homebrew completions
if [[ -d "$(brew --prefix)/share/zsh/site-functions" ]]; then
  fpath=("$(brew --prefix)/share/zsh/site-functions" $fpath)
fi

# Add deno completions to search path
if [[ ":$FPATH:" != *":$HOME/.zsh/completions:"* ]]; then export FPATH="$HOME/.zsh/completions:$FPATH"; fi

# Exports
export PATH="$HOME/.local/bin:$PATH"
export BUN_INSTALL="$HOME/.bun"
export PATH="$HOME/.opencode/bin:$PATH"
export PATH="$BUN_INSTALL/bin:$PATH"
export EDITOR="zed --wait"
export GITHUB_USERNAME="shanepadgett"
export DEV_PATH="$HOME/dev"
export DO_NOT_TRACK=1

# Load custom aliases
[ -f "$HOME/.aliases.zsh" ] && source "$HOME/.aliases.zsh"

# --- Inits (Must remain at the end) ---
eval "$(zoxide init zsh)"
eval "$(starship init zsh)"
eval "$(mise activate zsh)"
# Initialize fzf (enables Ctrl+R history search and Tab completion)
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
[[ -n "$BREW_PREFIX" ]] && source "$BREW_PREFIX/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"
